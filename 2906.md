[`r-ci.yml`] has [been failing][r-ci.yml main] on `main` [since mid-June][r-ci.yml main pg3].

- The first 4 failures ([#5418], [#5419], [#5422], [#5423]; Jun 17-18) began with [#2732]
- [#5426] and [#5427] then passed (Jun 19-20)
- Every run since has failed, beginning with [#5442] on Jun 28 (42 runs at time of writing).


The last output is typically `70 | ScalarMap`, before a segfault:

```
✔ |         70 | ScalarMap                                                      

 *** caught segfault ***
address 0x1019, cause 'memory not mapped'
An irrecoverable exception occurred. R is aborting now ...
/home/runner/work/_temp/c0e3d832-8dfe-4[52](https://github.com/single-cell-data/TileDB-SOMA/actions/runs/9713375174/job/26810031898#step:14:53)3-ac62-7a65da1f7dad.sh: line 1:  9642 Segmentation fault      (core dumped) Rscript testthat.R
Error: Process completed with exit code 139.
```

The segfault messages vary; `memory not mapped`, `bad_function_call`, `invalid permissions`, `address (nil), cause 'unknown'`. [ryan-williams/tdbs-r-ci-dbg] contains some analysis of the logs of failing runs, including frequencies of various error messages.

<!-- summary -->
<!-- /summary -->

## Occasional successful runs
A few runs have passed on PR branches (e.g. [1][success 1], [2][success 2]). However, I tried re-running the first one, and [it failed][re-run fail], so it seems like it's just non-deterministic, and usually fails. The `dark/images` branch did [pass 3x in a row][dark/images], 8/8-11.

## Plan for debugging / fixing?
Several folks on the team have made some progress debugging it, but a fix remains elusive.

From discussions with @johnkerl, ongoing work to remove our dependency on [TileDB-R] may resolve it.

## Change workflow to 24hr cron?
It's been causing "spurious" ❌'s on PRs (and `main`) for 2 months, which can mask other failures.

Disabling it altogether feels too aggressive; it's good to have some visibility into the state of the R tests.

Setting it to run against `main` every 24hrs might be a good compromise.


[`r-ci.yml`]: https://github.com/single-cell-data/TileDB-SOMA/blob/main/.github/workflows/r-ci.yml
[r-ci.yml main]: https://github.com/single-cell-data/TileDB-SOMA/actions/workflows/r-ci.yml?query=branch%3Amain
[r-ci.yml main pg3]: https://github.com/single-cell-data/TileDB-SOMA/actions/workflows/r-ci.yml?page=3&query=branch%3Amain

[#2732]: https://github.com/single-cell-data/TileDB-SOMA/pull/2732
[#5418]: https://github.com/single-cell-data/TileDB-SOMA/actions/runs/9556822939/job/26342845586
[#5419]: https://github.com/single-cell-data/TileDB-SOMA/actions/runs/9569392325/job/26381831676
[#5422]: https://github.com/single-cell-data/TileDB-SOMA/actions/runs/9570984555/job/26386986713
[#5423]: https://github.com/single-cell-data/TileDB-SOMA/actions/runs/9572000964/job/26390342033
[#5426]: https://github.com/single-cell-data/TileDB-SOMA/actions/runs/9586331976
[#5427]: https://github.com/single-cell-data/TileDB-SOMA/actions/runs/9600608992
[#5442]: https://github.com/single-cell-data/TileDB-SOMA/actions/runs/9713375174/job/26810031898

[ryan-williams/tdbs-r-ci-dbg]: https://github.com/ryan-williams/tdbs-r-ci-dbg
[success 1]: https://github.com/single-cell-data/TileDB-SOMA/actions/runs/10409702331/job/28829913594
[re-run fail]: https://github.com/single-cell-data/TileDB-SOMA/actions/runs/10409702331/job/28860675487#step:14:51
[success 2]: https://github.com/single-cell-data/TileDB-SOMA/actions/runs/10394844539
[dark/images]: https://github.com/single-cell-data/TileDB-SOMA/actions/workflows/r-ci.yml?query=branch%3Adark%2Fimages
[TileDB-R]: https://github.com/TileDB-Inc/TileDB-R
